{"openapi":"3.0.2","info":{"title":"Oracle of Ammon","version":"0.3.2"},"paths":{"/faq-search":{"post":{"tags":["search"],"summary":"Faq Search","description":"Perform FAQ information retrieval. System expects full sentence questions.","operationId":"faq_search_faq_search_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Search"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/extractive-search":{"post":{"tags":["search"],"summary":"Extractive Search","description":"Perform extractive, semantic search. System expects full sentence questions.","operationId":"extractive_search_extractive_search_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Search"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/document-search":{"post":{"tags":["search"],"summary":"Document Search","description":"Returns full documents related to user query.","operationId":"document_search_document_search_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Search"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Documents"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"tags":["health"],"summary":"Health","description":"Health check returns CPU, Memory, and GPU information.","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/get-documents":{"post":{"tags":["documents"],"summary":"Get Documents","description":"Returns all documents in the selected index/document store.","operationId":"get_documents_get_documents_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Index"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Documents"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/upload-documents":{"post":{"tags":["documents"],"summary":"Upload Documents","operationId":"upload_documents_upload_documents_post","parameters":[{"description":"Name of the desired index.","required":false,"schema":{"title":"Index","type":"string","description":"Name of the desired index.","default":"document"},"name":"index","in":"query"},{"description":"The sheet name(s) to index when uploading an XLSX file. Expects comma-separated string.","required":false,"schema":{"title":"Sheet Name","type":"string","description":"The sheet name(s) to index when uploading an XLSX file. Expects comma-separated string.","default":"sheet_name"},"name":"sheet_name","in":"query"},{"description":"Which document store to access.","required":false,"schema":{"title":"Is Faq","type":"boolean","description":"Which document store to access.","default":false},"name":"is_faq","in":"query"}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_documents_upload_documents_post"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadDelete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/summary":{"post":{"tags":["documents"],"summary":"Summary","description":"Returns basic summary statistics for a given index.","operationId":"summary_summary_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Index"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Summary"}}}},"404":{"description":"Returned when document store is empty.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPError"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/delete-documents":{"delete":{"tags":["documents"],"summary":"Delete Documents","description":"Deletes selected documents from an index. Expects comma-separated list of document id's.","operationId":"delete_documents_delete_documents_delete","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentIDs"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadDelete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/delete-index":{"delete":{"tags":["documents"],"summary":"Delete Index","description":"Deletes entire index.","operationId":"delete_index_delete_index_delete","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Index"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadDelete"}}}},"404":{"description":"Returned when document store is empty.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPError"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/search-summarization":{"post":{"tags":["search"],"summary":"Search Summarization","description":"Extends document search. Finds the most relevant documents and then returns a summary for each one.","operationId":"search_summarization_search_summarization_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Search"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchSummary"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/document-summarization":{"post":{"tags":["search"],"summary":"Document Summarization","description":"Skips indexing and returns a document summary.","operationId":"document_summarization_document_summarization_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_document_summarization_document_summarization_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Documents"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/search-span-summarization":{"post":{"tags":["search"],"summary":"Search Span Summarization","description":"Extends document search. Finds the most relevant documents and returns a single, combined summary.","operationId":"search_span_summarization_search_span_summarization_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Search"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Documents"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Answer":{"title":"Answer","required":["answer"],"type":"object","properties":{"answer":{"title":"Answer","type":"string"},"type":{"title":"Type","enum":["generative","extractive","other"],"type":"string","default":"extractive"},"score":{"title":"Score","type":"number"},"context":{"title":"Context","anyOf":[{"type":"string"},{"type":"string"}]},"offsets_in_document":{"title":"Offsets In Document","type":"array","items":{"$ref":"#/components/schemas/Span"}},"offsets_in_context":{"title":"Offsets In Context","type":"array","items":{"$ref":"#/components/schemas/Span"}},"document_ids":{"title":"Document Ids","type":"array","items":{"type":"string"}},"meta":{"title":"Meta","type":"object"}}},"Body_document_summarization_document_summarization_post":{"title":"Body_document_summarization_document_summarization_post","required":["file"],"type":"object","properties":{"file":{"title":"File","type":"string","description":"File to be summarized.","format":"binary"}}},"Body_upload_documents_upload_documents_post":{"title":"Body_upload_documents_upload_documents_post","required":["files"],"type":"object","properties":{"files":{"title":"Files","type":"array","items":{"type":"string","format":"binary"},"description":"List of files to be indexed."}}},"CPUUsage":{"title":"CPUUsage","required":["used"],"type":"object","properties":{"used":{"title":"Used","type":"number","description":"REST API average CPU usage in percentage."}}},"Document":{"title":"Document","required":["id","content"],"type":"object","properties":{"id":{"title":"Id","type":"string"},"content":{"title":"Content","anyOf":[{"type":"string"},{"type":"string"}]},"content_type":{"title":"Content Type","enum":["text","table","image","audio"],"type":"string","default":"text"},"meta":{"title":"Meta","type":"object","default":{}},"id_hash_keys":{"title":"Id Hash Keys","type":"array","items":{"type":"string"},"default":["content"]},"score":{"title":"Score","type":"number"},"embedding":{"title":"Embedding","type":"string"}}},"DocumentIDs":{"title":"DocumentIDs","required":["ids"],"type":"object","properties":{"index":{"title":"Index","type":"string","description":"Name of the desired index.","default":"document"},"is_faq":{"title":"Is Faq","type":"boolean","description":"Which document store to access.","default":false},"ids":{"title":"Ids","type":"array","items":{"type":"string"},"description":"List of document IDs to be selected.`"}}},"Documents":{"title":"Documents","required":["documents"],"type":"object","properties":{"documents":{"title":"Documents","type":"array","items":{"$ref":"#/components/schemas/Document"}}}},"GPUInfo":{"title":"GPUInfo","required":["index","usage"],"type":"object","properties":{"index":{"title":"Index","type":"integer","description":"GPU index."},"usage":{"title":"Usage","allOf":[{"$ref":"#/components/schemas/GPUUsage"}],"description":"GPU usage details."}}},"GPUUsage":{"title":"GPUUsage","required":["kernel_usage","memory_total","memory_used"],"type":"object","properties":{"kernel_usage":{"title":"Kernel Usage","type":"number","description":"GPU kernel usage in percentage."},"memory_total":{"title":"Memory Total","type":"integer","description":"Total GPU memory in megabytes."},"memory_used":{"title":"Memory Used","type":"integer","description":"REST API used GPU memory in megabytes."}}},"HTTPError":{"title":"HTTPError","required":["detail"],"type":"object","properties":{"detail":{"title":"Detail","type":"string","description":"Message explaining the reason for HTTPException."}},"example":{"detail":"HTTPException raised."}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"HealthResponse":{"title":"HealthResponse","required":["version","cpu","memory"],"type":"object","properties":{"version":{"title":"Version","type":"string","description":"Haystack version."},"cpu":{"title":"Cpu","allOf":[{"$ref":"#/components/schemas/CPUUsage"}],"description":"CPU usage details."},"memory":{"title":"Memory","allOf":[{"$ref":"#/components/schemas/MemoryUsage"}],"description":"Memory usage details."},"gpus":{"title":"Gpus","type":"array","items":{"$ref":"#/components/schemas/GPUInfo"},"description":"GPU usage details."}}},"Index":{"title":"Index","type":"object","properties":{"index":{"title":"Index","type":"string","description":"Name of the desired index.","default":"document"},"is_faq":{"title":"Is Faq","type":"boolean","description":"Which document store to access.","default":false}}},"MemoryUsage":{"title":"MemoryUsage","required":["used"],"type":"object","properties":{"used":{"title":"Used","type":"number","description":"REST API used memory in percentage."}}},"Search":{"title":"Search","required":["query"],"type":"object","properties":{"query":{"title":"Query","type":"string","description":"Natural language question in sentence form."},"params":{"title":"Params","type":"object","description":"Search Engine node component parameters.","default":{"Retriever":{"top_k":3,"index":"document"}}}}},"SearchResponse":{"title":"SearchResponse","required":["query","answers"],"type":"object","properties":{"query":{"title":"Query","type":"string","description":"Query posed by the user."},"answers":{"title":"Answers","type":"array","items":{"$ref":"#/components/schemas/Answer"},"description":"List of answers in descending order by relevance score."}}},"SearchSummary":{"title":"SearchSummary","required":["documents","query","node_id"],"type":"object","properties":{"documents":{"title":"Documents","type":"array","items":{"$ref":"#/components/schemas/Document"}},"params":{"title":"Params","type":"object","description":"Search Engine node component parameters.","default":{"Retriever":{"top_k":3,"index":"document"}}},"query":{"title":"Query","type":"string","description":"Query posed by the user."},"node_id":{"title":"Node Id","type":"string","description":"Name of the responding node."}}},"Span":{"title":"Span","required":["start","end"],"type":"object","properties":{"start":{"title":"Start","type":"integer"},"end":{"title":"End","type":"integer"}}},"Summary":{"title":"Summary","required":["count","chars_mean","chars_max","chars_min","chars_median"],"type":"object","properties":{"count":{"title":"Count","type":"integer","description":"Count of documents in an index."},"chars_mean":{"title":"Chars Mean","type":"number","description":"Mean characters across all documents in an index."},"chars_max":{"title":"Chars Max","type":"integer","description":"Maximum characters in any 1 document across an index.."},"chars_min":{"title":"Chars Min","type":"integer","description":"Minimum characters in any 1 document across an index."},"chars_median":{"title":"Chars Median","type":"integer","description":"Median characters across all documents in an index."}}},"UploadDelete":{"title":"UploadDelete","required":["message"],"type":"object","properties":{"message":{"title":"Message","type":"string","description":"Status of upload or deletion of documents."}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}}}}
